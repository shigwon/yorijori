syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.linky.order.grpc";
option java_outer_classname = "OrderProto";

service OrderService {
  rpc CreateOrder (OrderCreateRequest) returns (OrderCreateResponse);
  rpc UpdateDeliveryState (UpdateDeliveryStateRequest) returns (UpdateDeliveryStateResponse);
}

enum OrderState {
  READY_FOR_PICKUP = 0;
  DELIVERING = 1;
  DELIVERED = 2;
}
message OrderCreateRequest {
  string code = 1;
  string tel = 2;
  int32 robotId = 3;
  double customerLatitude = 4;
  double customerLongitude = 5;
    }

message OrderCreateResponse {
  string orderId = 1;
}

message UpdateDeliveryStateRequest {
  int32 id = 1;
  OrderState state = 2;
}

message UpdateDeliveryStateResponse {
  bool success = 1;
  string message = 2;
}